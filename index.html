<!doctype html>
<html lang="vi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tr√≤ ch∆°i ph√¢n lo·∫°i ƒë·ªông v·∫≠t</title>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      width: 100%;
      height: 100%;
    }
    
    html {
      height: 100%;
      width: 100%;
    }
    
    * {
      box-sizing: border-box;
    }
    
    .game-container {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    .header {
      text-align: center;
      color: white;
    }
    
    .header h1 {
      margin: 0 0 6px 0;
      font-size: 28px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    
    .author {
      font-style: italic;
      margin: 4px 0 10px 0;
      font-size: 13px;
      opacity: 0.9;
    }
    
    .instruction {
      margin: 0;
      font-size: 15px;
      opacity: 0.95;
    }
    
    .game-content {
      display: flex;
      gap: 16px;
      flex: 1;
      min-height: 0;
    }
    
    .animals-panel {
      background: white;
      border-radius: 16px;
      padding: 16px;
      flex: 1;
      display: flex;
      flex-direction: column;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    }
    
    .panel-title {
      font-size: 18px;
      font-weight: bold;
      color: #333;
      margin-bottom: 12px;
      text-align: center;
    }
    
    .animals-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
      gap: 10px;
      flex: 1;
      align-content: start;
      overflow-y: auto;
      padding: 4px;
    }
    
    .animal-card {
      background: #f8f9fa;
      border: 3px solid #e9ecef;
      border-radius: 12px;
      padding: 10px;
      cursor: move;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      user-select: none;
      touch-action: none;
    }
    
    .animal-card:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .animal-card.dragging {
      opacity: 0.5;
      transform: rotate(5deg);
    }
    
    .animal-card * {
      pointer-events: none;
    }
    
    .animal-icon {
      font-size: 42px;
    }
    
    .animal-name {
      font-size: 12px;
      font-weight: 600;
      color: #495057;
      text-align: center;
    }
    
    .drop-zones {
      display: flex;
      flex-direction: column;
      gap: 16px;
      flex: 1;
    }
    
    .drop-zone {
      flex: 1;
      background: white;
      border-radius: 16px;
      padding: 16px;
      display: flex;
      flex-direction: column;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      transition: all 0.3s;
      min-height: 0;
    }
    
    .drop-zone.beneficial {
      border: 3px dashed #28a745;
    }
    
    .drop-zone.harmful {
      border: 3px dashed #dc3545;
    }
    
    .drop-zone.drag-over {
      background: #f0f8ff;
      transform: scale(1.02);
    }
    
    .zone-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }
    
    .zone-icon {
      font-size: 28px;
    }
    
    .zone-title {
      font-size: 20px;
      font-weight: bold;
    }
    
    .zone-title.beneficial {
      color: #28a745;
    }
    
    .zone-title.harmful {
      color: #dc3545;
    }
    
    .dropped-animals {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 8px;
      flex: 1;
      align-content: start;
      overflow-y: auto;
    }
    
    .score-board {
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 10px 16px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 24px;
      color: white;
      flex-wrap: wrap;
    }
    
    .score-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 16px;
      font-weight: bold;
    }
    
    .score-icon {
      font-size: 20px;
    }
    
    .reset-btn {
      background: white;
      color: #667eea;
      border: none;
      border-radius: 8px;
      padding: 8px 20px;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .reset-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.2);
    }
    
    .reset-btn:active {
      transform: translateY(0);
    }
    
    .feedback {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: white;
      padding: 24px 36px;
      border-radius: 20px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.3);
      text-align: center;
      z-index: 1000;
      transition: transform 0.3s;
    }
    
    .feedback.show {
      transform: translate(-50%, -50%) scale(1);
    }
    
    .feedback-icon {
      font-size: 56px;
      margin-bottom: 12px;
    }
    
    .feedback-text {
      font-size: 20px;
      font-weight: bold;
      color: #333;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="game-container">
   <header class="header">
    <h1>Ph√¢n lo·∫°i ƒë·ªông v·∫≠t c√≥ l·ª£i v√† c√≥ h·∫°i</h1>
    <p class="author">T√°c gi·∫£: Nguy·ªÖn Th·ªã Ng·ªçc C·∫ßm</p>
    <p class="instruction">K√©o th·∫£ c√°c con v·∫≠t v√†o ƒë√∫ng nh√≥m c·ªßa ch√∫ng!</p>
   </header>
   <div class="game-content">
    <div class="animals-panel">
     <div class="panel-title">
      üêæ C√°c con v·∫≠t
     </div>
     <div class="animals-grid" id="animalsGrid"></div>
    </div>
    <div class="drop-zones">
     <div class="drop-zone beneficial" id="beneficialZone" data-type="beneficial">
      <div class="zone-header"><span class="zone-icon">‚úÖ</span> <span class="zone-title beneficial">C√≥ l·ª£i</span>
      </div>
      <div class="dropped-animals" id="beneficialAnimals"></div>
     </div>
     <div class="drop-zone harmful" id="harmfulZone" data-type="harmful">
      <div class="zone-header"><span class="zone-icon">‚ö†Ô∏è</span> <span class="zone-title harmful">C√≥ h·∫°i</span>
      </div>
      <div class="dropped-animals" id="harmfulAnimals"></div>
     </div>
    </div>
   </div>
   <div class="score-board">
    <div class="score-item"><span class="score-icon">‚ú®</span> <span>ƒê√∫ng: <span id="correctScore">0</span></span>
    </div>
    <div class="score-item"><span class="score-icon">‚ùå</span> <span>Sai: <span id="wrongScore">0</span></span>
    </div><button class="reset-btn" id="resetBtn">üîÑ Ch∆°i l·∫°i</button>
   </div>
  </div>
  <div class="feedback" id="feedback">
   <div class="feedback-icon" id="feedbackIcon"></div>
   <div class="feedback-text" id="feedbackText"></div>
  </div>
  <script>
    const animals = [
      { name: "Mu·ªói", icon: "ü¶ü", type: "harmful" },
      { name: "C√°", icon: "üêü", type: "beneficial" },
      { name: "Ch√¢u ch·∫•u", icon: "ü¶ó", type: "harmful" },
      { name: "Ch√≥", icon: "üêï", type: "beneficial" },
      { name: "Ki·∫øn ba khoang", icon: "üêú", type: "harmful" },
      { name: "Ru·ªìi", icon: "ü™∞", type: "harmful" },
      { name: "G√†", icon: "üêî", type: "beneficial" },
      { name: "Gi√°n", icon: "ü™≥", type: "harmful" },
      { name: "V·ªãt", icon: "ü¶Ü", type: "beneficial" },
      { name: "M√®o", icon: "üêà", type: "beneficial" }
    ];

    let correctScore = 0;
    let wrongScore = 0;
    let draggedElement = null;

    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }

    function initGame() {
      const animalsGrid = document.getElementById('animalsGrid');
      animalsGrid.innerHTML = '';
      
      const shuffledAnimals = shuffleArray(animals);
      
      shuffledAnimals.forEach(animal => {
        const card = document.createElement('div');
        card.className = 'animal-card';
        card.draggable = true;
        card.dataset.type = animal.type;
        card.innerHTML = `
          <div class="animal-icon">${animal.icon}</div>
          <div class="animal-name">${animal.name}</div>
        `;
        
        card.addEventListener('dragstart', handleDragStart);
        card.addEventListener('dragend', handleDragEnd);
        
        animalsGrid.appendChild(card);
      });
      
      document.getElementById('beneficialAnimals').innerHTML = '';
      document.getElementById('harmfulAnimals').innerHTML = '';
      correctScore = 0;
      wrongScore = 0;
      updateScores();
    }

    function handleDragStart(e) {
      draggedElement = e.currentTarget;
      e.currentTarget.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
      e.dataTransfer.setData('text/html', e.currentTarget.innerHTML);
    }

    function handleDragEnd(e) {
      e.currentTarget.classList.remove('dragging');
    }

    function handleDragOver(e) {
      e.preventDefault();
      e.dataTransfer.dropEffect = 'move';
      const dropZone = e.currentTarget;
      dropZone.classList.add('drag-over');
      return false;
    }

    function handleDragLeave(e) {
      e.currentTarget.classList.remove('drag-over');
    }

    function handleDrop(e) {
      e.preventDefault();
      e.stopPropagation();
      
      const dropZone = e.currentTarget;
      dropZone.classList.remove('drag-over');
      
      if (!draggedElement) return false;
      
      const animalType = draggedElement.dataset.type;
      const zoneType = dropZone.dataset.type;
      const isCorrect = animalType === zoneType;
      
      if (isCorrect) {
        correctScore++;
        showFeedback(true);
        
        const targetContainer = zoneType === 'beneficial' 
          ? document.getElementById('beneficialAnimals')
          : document.getElementById('harmfulAnimals');
        
        targetContainer.appendChild(draggedElement);
        draggedElement.draggable = false;
        draggedElement.style.cursor = 'default';
      } else {
        wrongScore++;
        showFeedback(false);
      }
      
      updateScores();
      checkGameComplete();
      
      return false;
    }

    function showFeedback(isCorrect) {
      const feedback = document.getElementById('feedback');
      const feedbackIcon = document.getElementById('feedbackIcon');
      const feedbackText = document.getElementById('feedbackText');
      
      if (isCorrect) {
        feedbackIcon.textContent = 'üéâ';
        feedbackText.textContent = 'Ch√≠nh x√°c!';
      } else {
        feedbackIcon.textContent = 'üòÖ';
        feedbackText.textContent = 'Th·ª≠ l·∫°i nh√©!';
      }
      
      feedback.classList.add('show');
      setTimeout(() => {
        feedback.classList.remove('show');
      }, 1000);
    }

    function updateScores() {
      document.getElementById('correctScore').textContent = correctScore;
      document.getElementById('wrongScore').textContent = wrongScore;
    }

    function checkGameComplete() {
      const animalsGrid = document.getElementById('animalsGrid');
      if (animalsGrid.children.length === 0) {
        setTimeout(() => {
          const feedback = document.getElementById('feedback');
          const feedbackIcon = document.getElementById('feedbackIcon');
          const feedbackText = document.getElementById('feedbackText');
          
          feedbackIcon.textContent = 'üèÜ';
          feedbackText.textContent = `Ho√†n th√†nh! ƒêi·ªÉm: ${correctScore}/${animals.length}`;
          feedback.classList.add('show');
          
          setTimeout(() => {
            feedback.classList.remove('show');
          }, 3000);
        }, 500);
      }
    }

    // Thi·∫øt l·∫≠p c√°c s·ª± ki·ªán
    const beneficialZone = document.getElementById('beneficialZone');
    beneficialZone.addEventListener('dragover', handleDragOver);
    beneficialZone.addEventListener('dragleave', handleDragLeave);
    beneficialZone.addEventListener('drop', handleDrop);
    
    const harmfulZone = document.getElementById('harmfulZone');
    harmfulZone.addEventListener('dragover', handleDragOver);
    harmfulZone.addEventListener('dragleave', handleDragLeave);
    harmfulZone.addEventListener('drop', handleDrop);
    
    document.getElementById('resetBtn').addEventListener('click', initGame);

    // Kh·ªüi ƒë·ªông tr√≤ ch∆°i
    initGame();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a71a43cb698fddf',t:'MTc2NDU4MjIyMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
